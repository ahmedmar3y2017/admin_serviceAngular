!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("@angular/core")):"function"==typeof define&&define.amd?define(["@angular/core"],t):"object"==typeof exports?exports["ng2-google-charts.umd.min"]=t(require("@angular/core")):e["ng2-google-charts.umd.min"]=t(e["@angular/core"])}(this,function(e){return function(e){function t(o){if(r[o])return r[o].exports;var n=r[o]={i:o,l:!1,exports:{}};return e[o].call(n.exports,n,n.exports,t),n.l=!0,n.exports}var r={};return t.m=e,t.c=r,t.i=function(e){return e},t.d=function(e,r,o){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/",t(t.s=6)}([function(t,r){t.exports=e},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e){this.tooltipDOMElement=e}return e.prototype.setPosition=function(t,r){this.tooltipDOMElement.nativeElement.style.left=t+e.PIXELS,this.tooltipDOMElement.nativeElement.style.top=r+e.PIXELS},e.prototype.getDOMElement=function(){return this.tooltipDOMElement},e}();o.PIXELS="px",t.ChartHTMLTooltip=o},function(e,t,r){"use strict";var o=this&&this.__decorate||function(e,t,r,o){var n,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(i<3?n(a):i>3?n(t,r,a):n(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},n=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var i=r(0),a=r(3),s=r(1),c=function(){function e(e,t){this.el=e,this.loaderService=t,this.chartSelect=new i.EventEmitter,this.chartReady=new i.EventEmitter,this.chartError=new i.EventEmitter,this.mouseOver=new i.EventEmitter,this.mouseOut=new i.EventEmitter}return e.prototype.ngOnChanges=function(e){var t=this;if(e.data){if(!this.data)return;this.options=this.data.options,this.loaderService.load(this.data.chartType).then(function(){if(void 0===t.wrapper||t.wrapper.getChartType()!==t.data.chartType?t.wrapper=new google.visualization.ChartWrapper(t.data):(t.unregisterChartEvents(),t.wrapper.setDataTable(t.data.dataTable),t.wrapper.setOptions(t.options)),t.registerChartWrapperEvents(),void 0!==t.data.formatters)for(var e=0,r=t.data.formatters;e<r.length;e++)for(var o=r[e],n=google.visualization[o.type],i=o.options,a=new n(i),s=0,c=o.columns;s<c.length;s++){var u=c[s];a.format(t.wrapper.getDataTable(),u)}t.redraw()})}},e.prototype.redraw=function(){this.wrapper.draw(this.el.nativeElement.querySelector("div"))},e.prototype.getSelectorBySeriesType=function(e){return{bars:"bar#%s#%r",haxis:"hAxis#0#label",line:"point#%s#%r",legend:"legendentry#%s",area:"point#%s#%r"}[e]},e.prototype.getSeriesByColumn=function(e){for(var t=0,r=this.wrapper.getDataTable(),o=e-1;o>=0;o--){var n=r.getColumnRole(o),i=r.getColumnType(o);"data"!==n&&"number"!==i||t++}return t},e.prototype.getBoundingBoxForItem=function(e){var t={top:0,left:0,width:0,height:0};if(this.cli){var r=e.column,o=this.getSeriesByColumn(r),n=(e.row,e.row),i=this.options.seriesType;if(this.options.series&&this.options.series[o]&&this.options.series[o].type&&(i=this.options.series[o].type),i){var a=this.getSelectorBySeriesType(i);if(a){a=a.replace("%s",o+"").replace("%c",r+"").replace("%r",n+"");var s=this.cli.getBoundingBox(a);s&&(t=s)}}}return t},e.prototype.getValueAtPosition=function(e){return null===e.row?null:this.wrapper.getDataTable().getValue(e.row,e.column)},e.prototype.getColumnTypeAtPosition=function(e){return this.wrapper.getDataTable().getColumnType(e.column)||""},e.prototype.getColumnLabelAtPosition=function(e){return this.wrapper.getDataTable().getColumnLabel(e.column)||""},e.prototype.getHTMLTooltip=function(){var e=new i.ElementRef(this.el.nativeElement.querySelector(".google-visualization-tooltip"));return new s.ChartHTMLTooltip(e)},e.prototype.parseMouseEvent=function(e){return{position:e,boundingBox:this.getBoundingBoxForItem(e),value:this.getValueAtPosition(e),columnType:this.getColumnTypeAtPosition(e),columnLabel:this.getColumnLabelAtPosition(e)}},e.prototype.unregisterChartEvents=function(){google.visualization.events.removeAllListeners(this.wrapper)},e.prototype.registerChartEvents=function(){var e=this;if(this.mouseOver.observers.length>0){var t=this.wrapper.getChart();this.cli=t.getChartLayoutInterface(),google.visualization.events.addListener(t,"onmouseover",function(t){var r=e.parseMouseEvent(t);r.tooltip=e.getHTMLTooltip(),e.mouseOver.emit(r)})}if(this.mouseOut.observers.length>0){var t=this.wrapper.getChart();this.cli=t.getChartLayoutInterface(),google.visualization.events.addListener(t,"onmouseout",function(t){var r=e.parseMouseEvent(t);e.mouseOut.emit(r)})}},e.prototype.registerChartWrapperEvents=function(){var e=this;google.visualization.events.addListener(this.wrapper,"ready",function(){e.chartReady.emit({message:"Chart ready"}),e.registerChartEvents()}),google.visualization.events.addListener(this.wrapper,"error",function(t){e.chartError.emit(t)}),google.visualization.events.addListener(this.wrapper,"select",function(){var t,r=e.wrapper.visualization.getSelection()[0];if(void 0!==r){var o=[],n=[];if(null!==r.row)for(var i=e.wrapper.getDataTable(),a=i.getNumberOfColumns(),s=0;s<a;s++)o.push(i.getValue(r.row,s)),n.push(i.getFormattedValue(r.row,s));c={message:"select",row:r.row,column:r.column},c.selectedRowValues=o,c.selectedRowFormattedValues=n,t=c}else t={message:"deselect",row:null,column:null,selectedRowValues:[],selectedRowFormattedValues:[]};e.chartSelect.emit(t);var c})},e}();o([i.Input(),n("design:type",Object)],c.prototype,"data",void 0),o([i.Output(),n("design:type",i.EventEmitter)],c.prototype,"chartReady",void 0),o([i.Output(),n("design:type",i.EventEmitter)],c.prototype,"chartError",void 0),o([i.Output(),n("design:type",i.EventEmitter)],c.prototype,"chartSelect",void 0),o([i.Output(),n("design:type",i.EventEmitter)],c.prototype,"mouseOver",void 0),o([i.Output(),n("design:type",i.EventEmitter)],c.prototype,"mouseOut",void 0),c=o([i.Component({selector:"google-chart",template:"<div></div>",changeDetection:i.ChangeDetectionStrategy.OnPush}),n("design:paramtypes",[i.ElementRef,a.GoogleChartsLoaderService])],c),t.GoogleChartComponent=c},function(e,t,r){"use strict";var o=this&&this.__decorate||function(e,t,r,o){var n,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(i<3?n(a):i>3?n(t,r,a):n(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},n=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=this&&this.__param||function(e,t){return function(r,o){t(r,o,e)}};Object.defineProperty(t,"__esModule",{value:!0});var a=r(0),s=function(){function e(e){this.chartPackage={AnnotationChart:"annotationchart",AreaChart:"corechart",Bar:"bar",BarChart:"corechart",BubbleChart:"corechart",Calendar:"calendar",CandlestickChart:"corechart",ColumnChart:"corechart",ComboChart:"corechart",PieChart:"corechart",Gantt:"gantt",Gauge:"gauge",GeoChart:"geochart",Histogram:"corechart",Line:"line",LineChart:"corechart",Map:"map",OrgChart:"orgchart",Sankey:"sankey",Scatter:"scatter",ScatterChart:"corechart",SteppedAreaChart:"corechart",Table:"table",Timeline:"timeline",TreeMap:"treemap",WordTree:"wordtree"},this.googleScriptLoadingNotifier=new a.EventEmitter,this.googleScriptIsLoading=!1,this.localeId=e}return e.prototype.load=function(e){var t=this;return new Promise(function(r,o){void 0===r&&(r=Function.prototype),void 0===o&&(o=Function.prototype),t.loadGoogleChartsScript().then(function(){google.charts.load("45",{packages:[t.chartPackage[e]],language:t.localeId,callback:r})}).catch(function(){console.error("Google charts script could not be loaded")})})},e.prototype.loadGoogleChartsScript=function(){var e=this;return new Promise(function(t,r){if(void 0===t&&(t=Function.prototype),void 0===r&&(r=Function.prototype),"undefined"!=typeof google&&google.charts)t();else if(e.googleScriptIsLoading)e.googleScriptLoadingNotifier.subscribe(function(e){e?t():r()});else{e.googleScriptIsLoading=!0;var o=document.createElement("script");o.type="text/javascript",o.src="https://www.gstatic.com/charts/loader.js",o.async=!0,o.defer=!0,o.onload=function(){e.googleScriptIsLoading=!1,e.googleScriptLoadingNotifier.emit(!0),t()},o.onerror=function(){e.googleScriptIsLoading=!1,e.googleScriptLoadingNotifier.emit(!1),r()},document.getElementsByTagName("head")[0].appendChild(o)}})},e}();s=o([a.Injectable(),i(0,a.Inject(a.LOCALE_ID)),n("design:paramtypes",[String])],s),t.GoogleChartsLoaderService=s},function(e,t,r){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e}();t.ChartMouseEvent=n;var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t}(n);t.MouseOverEvent=i;var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t}(n);t.ChartMouseOverEvent=a;var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t}(n);t.ChartMouseOutEvent=s},function(e,t,r){"use strict";var o=this&&this.__decorate||function(e,t,r,o){var n,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(i<3?n(a):i>3?n(t,r,a):n(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a};Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=r(2),a=r(3),s=function(){function e(){}return e}();s=o([n.NgModule({declarations:[i.GoogleChartComponent],providers:[a.GoogleChartsLoaderService],exports:[i.GoogleChartComponent]})],s),t.Ng2GoogleChartsModule=s},function(e,t,r){"use strict";function o(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),o(r(2));var n=r(1);t.ChartHTMLTooltip=n.ChartHTMLTooltip;var i=r(4);t.ChartMouseOverEvent=i.ChartMouseOverEvent,t.ChartMouseOutEvent=i.ChartMouseOutEvent,t.MouseOverEvent=i.MouseOverEvent;var a=r(5);t.Ng2GoogleChartsModule=a.Ng2GoogleChartsModule}])});