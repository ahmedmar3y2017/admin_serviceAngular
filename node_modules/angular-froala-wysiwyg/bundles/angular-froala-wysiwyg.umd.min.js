!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("@angular/core"),require("@angular/forms")):"function"==typeof define&&define.amd?define(["@angular/core","@angular/forms"],e):"object"==typeof exports?exports["angular-froala-wysiwyg.umd.min"]=e(require("@angular/core"),require("@angular/forms")):t["angular-froala-wysiwyg.umd.min"]=e(t["@angular/core"],t["@angular/forms"])}(this,function(t,e){return function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/",e(e.s=6)}([function(e,n){e.exports=t},function(t,e,n){"use strict";var r=n(3);n.d(e,"a",function(){return r.a});var i=n(5);n.d(e,"b",function(){return i.a})},function(t,e,n){"use strict";var r=n(4);n.d(e,"a",function(){return r.a});var i=n(7);n.d(e,"b",function(){return i.a})},function(t,e,n){"use strict";var r=n(0),i=(n.n(r),n(8));n.n(i);n.d(e,"a",function(){return s});var o=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=function(){function t(t){this._opts={immediateAngularModelUpdate:!1,angularIgnoreAttrs:null},this.SPECIAL_TAGS=["img","button","input","a"],this.INNER_HTML_ATTR="innerHTML",this._hasSpecialTag=!1,this._listeningEvents=[],this._editorInitialized=!1,this._oldModel=null,this.onChange=function(t){},this.onTouched=function(){},this.froalaModelChange=new r.EventEmitter,this.froalaInit=new r.EventEmitter;var e=t.nativeElement;-1!=this.SPECIAL_TAGS.indexOf(e.tagName.toLowerCase())&&(this._hasSpecialTag=!0),this._$element=$(e)}return e=t,t.prototype.writeValue=function(t){this.updateEditor(t)},t.prototype.registerOnChange=function(t){this.onChange=t},t.prototype.registerOnTouched=function(t){this.onTouched=t},Object.defineProperty(t.prototype,"froalaEditor",{set:function(t){this._opts=t||this._opts},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"froalaModel",{set:function(t){this.updateEditor(t)},enumerable:!0,configurable:!0}),t.prototype.updateEditor=function(t){JSON.stringify(this._oldModel)!=JSON.stringify(t)&&(this._model=t,this._editorInitialized&&this.setContent())},t.prototype.updateModel=function(){var t=null;if(this._hasSpecialTag){for(var e=this._$element[0].attributes,n={},r=0;r<e.length;r++){var i=e[r].name;this._opts.angularIgnoreAttrs&&-1!=this._opts.angularIgnoreAttrs.indexOf(i)||(n[i]=e[r].value)}this._$element[0].innerHTML&&(n[this.INNER_HTML_ATTR]=this._$element[0].innerHTML),t=n}else{var o=this._$element.froalaEditor("html.get");"string"==typeof o&&(t=o)}this._oldModel=t,this.froalaModelChange.emit(t),this.onChange(t)},t.prototype.registerEvent=function(t,e,n){t&&e&&n&&(this._listeningEvents.push(e),t.on(e,n))},t.prototype.initListeners=function(){var t=this;this.registerEvent(this._$element,"froalaEditor.contentChanged",function(){setTimeout(function(){t.updateModel()},0)}),this._opts.immediateAngularModelUpdate&&this.registerEvent(this._editor,"keyup",function(){setTimeout(function(){t.updateModel()},0)})},t.prototype.registerFroalaEvents=function(){if(this._opts.events)for(var t in this._opts.events)this._opts.events.hasOwnProperty(t)&&this.registerEvent(this._$element,t,this._opts.events[t])},t.prototype.createEditor=function(){this._editorInitialized||(this.setContent(!0),this.registerFroalaEvents(),this._editor=this._$element.froalaEditor(this._opts).data("froala.editor").$el,this.initListeners(),this._editorInitialized=!0)},t.prototype.setHtml=function(){this._$element.froalaEditor("html.set",this._model||"",!0),this._$element.froalaEditor("undo.reset"),this._$element.froalaEditor("undo.saveStep")},t.prototype.setContent=function(t){void 0===t&&(t=!1);var e=this;if(this._model||""==this._model)if(this._oldModel=this._model,this._hasSpecialTag){var n=this._model;if(n){for(var r in n)n.hasOwnProperty(r)&&r!=this.INNER_HTML_ATTR&&this._$element.attr(r,n[r]);n.hasOwnProperty(this.INNER_HTML_ATTR)&&(this._$element[0].innerHTML=n[this.INNER_HTML_ATTR])}}else t?this.registerEvent(this._$element,"froalaEditor.initialized",function(){e.setHtml()}):e.setHtml()},t.prototype.destroyEditor=function(){this._editorInitialized&&(this._$element.off(this._listeningEvents.join(" ")),this._editor.off("keyup"),this._$element.froalaEditor("destroy"),this._listeningEvents.length=0,this._editorInitialized=!1)},t.prototype.getEditor=function(){return this._$element?this._$element.froalaEditor.bind(this._$element):null},t.prototype.generateManualController=function(){var t={initialize:this.createEditor.bind(this),destroy:this.destroyEditor.bind(this),getEditor:this.getEditor.bind(this)};this.froalaInit.emit(t)},t.prototype.ngOnInit=function(){this.froalaInit.observers.length?this.generateManualController():this.createEditor()},t.prototype.ngOnDestroy=function(){this.destroyEditor()},o([n.i(r.Input)(),a("design:type",Object),a("design:paramtypes",[Object])],t.prototype,"froalaEditor",null),o([n.i(r.Input)(),a("design:type",Object),a("design:paramtypes",[Object])],t.prototype,"froalaModel",null),o([n.i(r.Output)(),a("design:type",r.EventEmitter)],t.prototype,"froalaModelChange",void 0),o([n.i(r.Output)(),a("design:type",r.EventEmitter)],t.prototype,"froalaInit",void 0),t=e=o([n.i(r.Directive)({selector:"[froalaEditor]",providers:[{provide:i.NG_VALUE_ACCESSOR,useExisting:n.i(r.forwardRef)(function(){return e}),multi:!0}]}),a("design:paramtypes",[r.ElementRef])],t);var e}()},function(t,e,n){"use strict";var r=n(0);n.n(r);n.d(e,"a",function(){return a});var i=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=function(){function t(t,e){this.renderer=t,this._element=e.nativeElement}return Object.defineProperty(t.prototype,"froalaView",{set:function(t){this._element.innerHTML=t},enumerable:!0,configurable:!0}),t.prototype.ngAfterViewInit=function(){this.renderer.setElementClass(this._element,"fr-view",!0)},i([n.i(r.Input)(),o("design:type",String),o("design:paramtypes",[String])],t.prototype,"froalaView",null),t=i([n.i(r.Directive)({selector:"[froalaView]"}),o("design:paramtypes",[r.Renderer,r.ElementRef])],t)}()},function(t,e,n){"use strict";var r=n(0),i=(n.n(r),n(3));n.d(e,"a",function(){return a});var o=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},a=function(){function t(){}return e=t,t.forRoot=function(){return{ngModule:e,providers:[]}},t=e=o([n.i(r.NgModule)({declarations:[i.a],exports:[i.a]})],t);var e}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),i=(n.n(r),n(1)),o=n(2);n.d(e,"FroalaEditorDirective",function(){return i.a}),n.d(e,"FroalaEditorModule",function(){return i.b}),n.d(e,"FroalaViewDirective",function(){return o.a}),n.d(e,"FroalaViewModule",function(){return o.b}),n.d(e,"FERootModule",function(){return l});var a=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},s=[i.b,o.b],l=function(){function t(){}return t=a([n.i(r.NgModule)({imports:[i.b.forRoot(),o.b.forRoot()],exports:s})],t)}()},function(t,e,n){"use strict";var r=n(0),i=(n.n(r),n(4));n.d(e,"a",function(){return a});var o=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},a=function(){function t(){}return e=t,t.forRoot=function(){return{ngModule:e,providers:[]}},t=e=o([n.i(r.NgModule)({declarations:[i.a],exports:[i.a]})],t);var e}()},function(t,n){t.exports=e}])});